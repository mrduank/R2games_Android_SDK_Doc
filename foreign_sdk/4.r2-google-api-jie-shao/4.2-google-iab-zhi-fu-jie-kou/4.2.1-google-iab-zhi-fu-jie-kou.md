# 4.2.1 Google IAB支付接口

**功能说明：**

研发方调用该接口来让玩家完成某一IAB产品的支付。请在UI线程中调用该接口。

**接口形式：**

```text
public static void googlePay (Activity act,
    String googleProductId, String serverId,
    String userId, String roleId,
    String mobileTrans,
    String gameCno,
    GoogleIabCallback<GoogleIabResult> callback);
```

**参数说明：**

act: Android Activity实例 （必须）

googleProductId: Google Play商店后台上注册的产品ID （必须）

serverId: 当前玩家所处服务器唯一标示（必须）

userId: 当前玩家的R2 UID （必须，SDK登录接口返回）

roleId: 当前玩家角色唯一标示（必须）

mobileTrans: 研发方可定义的额外数据 （SDK服务器会透传给研发方服务器）（可选）

gameCno: 游戏研发方自身的唯一订单号 \(必须\)

callback: 接口回调（必须）

**接口示例：**

```text
//接口回调实例

GoogleIabCallback<GoogleIabResult> payCallback =

        new GoogleIabCallback<GoogleIabResult>(){

@Override

    public void onSuccess(GoogleIabResult rst) {

        //支付成功     

        //当前支付产品的ID(和调用支付接口时传入的产品ID一致)

        String mSku = rst.getSku();

}

    @Override

    public void onCancel() {

        //支付取消

}

    @Override

    public void onError(GoogleIabError error) {

        //支付失败

}

};

//接口需要的数据

String productId = "3005";

String serverId ="s1";

String userId ="565623255";

String roleId ="bigman";

String mobileTrans = "mobileTrans"

String gameCno = "an159635489999963";

//接口调用

R2SDK. googlePay (activity, productId, serverId, userId, roleId, mobileTrans, gameCno, payCallback);


```

