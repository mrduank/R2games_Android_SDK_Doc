# 2.3.1 登录接口（必须接入）

**功能说明：**

调用该接口后，接口内部会首先检测本地是否有玩家的最近一次登录成功的数据信息，如果有则会直接利用本地的登录数据完成登录。如果本地没有玩家的登录数据,则向玩家展示登录界面,让玩家完成登录流程。研发需要关注接口回调的code来进行相关处理。

**接口形式：**

```text
public void login (Activity act, RNCallback callback)
```

**参数说明：**

**act**：当前游戏Activity实例

**callback**:接口回调

**接口回调code说明：**

| 接口回调code | code对应情形 |
| :--- | :--- |
| RNCode**.**OK | 登录成功 |
| RNCode**.**OPEN\_GM | 打开客服 |
| RNCode**.**CANCEL | 登录取消 |
| 其他 | 登录失败 |

**注：**

1）客户端登录成功（即接口回调code为RNCode.OK）后，研发需要将uid, time, sign回传到研发服务器进行数据验证，具体的验证方法可以查看SDK服务器对接文档；

2）当接口回调code为RNCode.OPEN\_GM时，表明玩家在登录界面上触发了打开客服系统的操作，此时研发方需要调用客服系统API来向玩家展示客服界面。

**接口示例：**

```text
  RNSDK.getInstance().login(this, new RNCallback(){
    @Override
    public void onCompleted(int code, String msg, Object data) {
        //登录成功,解析登录数据
        if (RNCode.OK == code && data!= null) {
            LoginResponseData loginData = (LoginResponseData) data;
            String uid = loginData.getUid();//账号唯一标示ID
            String time = loginData.getTime();
            String sign = loginData.getSign();
            //研发方需要将uid,time,sign回传到研发服务器进行数据合法性验证

           //当前账号是否为游客账号
           boolean isPureGuest = loginData.isPureGuest();

           //当前账号是否是首次创建
           boolean isNewUser = loginData.isNewUser();

           //是否已经实名制
           boolean isVerified = loginData.isVerified();

           //防沉迷和实名制强制管理是否开启
           boolean isControlOn = loginData.isControlOn();
           }

        //玩家在登录界面触发客服服务,研发方需调用相关客服接口
        else if(RNCode.OPEN_GM == code) {
            if (msg!= null && !"".equals(msg)){
                //客服预填充信息,研发方需要将该文本数据传到客服相关接口
                //请参照客服SDK相关接口
            }
        }
        //玩家取消登录操作
        else if(RNCode.CANCEL == code) {}
        //登录失败
        else {}
    }
});

```

