# 5. SDK功能接口接入（可选）

SDK功能接口向外开发一些SDK相关的功能,这些功能接口将直接和SDK服务器进行交互来完成特定业务。调用规范如下：

**1.      创建接口特定类型的请求数据RequestData**

1）报告玩家角色信息请求数据

```text
new ReportRoleInfoRequestData(context,roleId,roleName,roleLevel,roleCreateTime,lastLoginTime,serverId)
```



| 参数名 | 类型 | 备注 |
| :--- | :--- | :--- |
| roleId | string | 角色唯一标示ID |
| roleName | string | 角色名称 |
| roleLevel | string | 角色等级 |
| roleCreateTime | string | 角色创建时的unix时间戳 |
| lastLoginTime | string | 角色最近一次登录的unix时间戳 |
| serverId | string | 当前所处服务器标示ID |

2）获取当前账号玩家角色列表请求数据

```text
new RoleListRequestData(context)
```

3）在绑定手机号码的时候获取手机验证码请求数据

```text
new SendMsgRequestData(context, phone, SendMsgRequestData.TYPE_PHONE_BOUND)
```

| 参数名 | 类型 | 备注 |
| :--- | :--- | :--- |
| phone | string | 待接收验证码的手机的号码 |
| type | string | 固定值: TYPE\_PHONE\_BOUND |

4）绑定手机号码请求数据

```text
new PhoneBoundRequestData(context, phone, code)
```

| 参数名 | 类型 | 备注 |
| :--- | :--- | :--- |
| phone | string | 待绑定的手机号码 |
| code | string | 玩家输入的手机验证码 |

5）验证实名身份信息请求数据

```text
new IdInfoVerifyRequestData(context,name,id,code)
```

| 参数名 | 类型 | 备注 |
| :--- | :--- | :--- |
| name | string | 实名制姓名 |
| id | string | 实名制身份证号码 |
| code | string | 可选参数，直接传空字符串”” |

6）获取当前用户相关信息请求数据

```text
new QueryUserStatusRequestData(context)
```

7）获取当前支付状态信息请求数据

```text
new QueryPayStatusRequestData(context)
```

**2.      创建接口回调来接受接口返回数据**

接口调用成功完成后，会通过回调的方式将接口结果数据返回给研发，研发方自行按照业务需求处理回调数据即可。接口回调处理请参照下面相关的调用实例

**3.      调用SDK统一请求接口进行业务处理请求**

**下面以玩家身份实名制业务接口调用举例**

```text
String name = "张三"; //玩家姓名
String id = "421222198802026369"; //玩家身份证号码
String code = ""; //手机验证码，可选参数，直接传空字符串即可

//创建实名制验证请求数据
IdInfoVerifyRequestData requestData = new IdInfoVerifyRequestData(this.getBaseContext(),name,id,code);

//调用SDK统一请求接口进行请求并提供接口回调来接受结果数据
RNSDK.getInstance().executeRequestWithCallback(requestData, new RNCallback() {
    @Override
    public void onCompleted(int code, String msg, Object data) {
        //接口调用成功
       if (code == RNCode.OK){
            Log.i("r2","success");
            GeneralResponseData responseData = (GeneralResponseData)data;
            //在特定接口调用情况下,研发方需自行解析该json字符串
            //并按照自身需求进行相关业务处理,此json字符串中的相关字段的意义请咨询SDK服务器技术
            String dataJson = responseData.dataJsonStr;
            Log.i("r2","json => " + dataJson);
        }
           else {
               Log.e("r2","failed, err = " + msg);
           }
       }
});

```

